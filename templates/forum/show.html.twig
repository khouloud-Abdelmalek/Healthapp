{% extends 'base.html.twig' %}

{% block title %}{{ sujet.titre }} - HealthApp{% endblock %}

{% block body %}
<div class="container mt-5">
    <h1>{{ sujet.titre }}</h1>
    <p>{{ sujet.description }}</p>

    <!-- Section Commentaires -->
    <div class="comments-section mt-4">
        <h3>Commentaires :</h3>
        {% for comment in sujet.comments %}
            <div class="comment p-3 my-2 border rounded">
                <p>{{ comment.content }}</p>
                <small class="text-muted">Post√© le {{ comment.createdAt|date('d/m/Y H:i') }}</small>
            </div>
        {% else %}
            <p>Aucun commentaire pour ce sujet.</p>
        {% endfor %}
    </div>

    <!-- Formulaire d'ajout de commentaire -->
    <h3>Ajouter un commentaire :</h3>
    <form method="post" action="{{ path('add_comment', {'id': sujet.id}) }}">
        <div class="mb-3">
            <textarea class="form-control" name="content" rows="3" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Ajouter</button>
    </form>
</div>
{% endblock %}
